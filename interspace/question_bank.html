<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>考试/测验</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../package/bootstrapvalidator-master/dist/css/bootstrapValidator.min.css">
    <!--  导航栏的基本样式保证  -->
    <link rel="stylesheet" href="../css/teacherinterspace.css">
    <!--  左边栏样式保证  -->
    <link rel="stylesheet" href="../css/teacher_css/teacher_team.css">
    <!-- 提示框样式 -->
    <link href="../lib/toastr/toastr.min.css" type="text/css" rel="stylesheet">
    <!--  对话框样式  -->
    <link href="../lib/confirm/jquery-confirm.min.css" type="text/css" rel="stylesheet">
    <!--  课程图片上传样式  -->
    <link rel="stylesheet" href="../css/teacher_css/course_img.css">
    <link rel="stylesheet" href="../css/teacher_css/course_test.css">
</head>
<body>
<div class="maincontent">
    <!-- 头部导航栏开始 -->
    <div class="header">
        <div class="banxin">
            <img src="../img/未标题-10.png" class="logo" alt="">
            <ul>
                <li><a href="">首页</a></li>
                <li><a href="">课程</a></li>
                <li><a href="">院校</a></li>
                <li><a href="">立体教材</a></li>
            </ul>
            <div class="search">
                <img class="searchicon" src="../img/未标题-1.png" ></img>
                <input type="text" placeholder="搜索课程或学校">
            </div>
            <div class="login">
                <a href="">
                    <img class="loginicon" src="../img/未标题-2.png"></img>
                </a>
                <!-- 这里的模态框用js实现 -->
                <div class="register" data-toggle="modal" data-target="#myModal">注册</div>
                <!-- 要显示新模态框，修改data-target中的ID就可以了 -->
                <div class="log" data-toggle="modal" data-target="#myModal1">登录</div>
            </div>
        </div>
    </div>
    <!-- 头部导航栏结束 -->

    <!--  中间内容开始  -->
    <div class="tt_content">
        <!--  左边内容  -->
        <div class="tt_content_left">
            <form action="">
                <div class="headimg clearfix" >
                    <img  src="../images/kecheng.png" id="preview" class="headicon fl">
                    <div class="imgtitle ">
                        <input name="logo" type="file" id="filebtn" class="filebtn">
                    </div>
                </div>
            </form>
<!--            <img src="../images/kecheng1.png">-->
            <div class="tt_content_leftmenu">
                <a href="" class="introduction_href">课程简介</a>
                <a class="teacher_href" href="">教师团队</a>
                <a class="course_resources" href="" >课程资源</a>
                <a class="catalog_href" href="">课程目录</a>
                <a class="announcement_href" href="">系统公告</a>
                <a class="criteria_href" href="">评分表准</a>
                <a class="test_href active" href="">测验/考试</a>
                <a class="course_discussion" href="">讨论区</a>
                <a class="course_class" href="">班级</a>
                <a class="course_student" href="">学生</a>
                <a class="course_sum" href="">课程统计</a>
                <a class="course_study_sum" href="">学习统计</a>
            </div>
        </div>
        <!--  右边内容  -->
        <div class="tt_content_right">
            <div class="tt_content_right_title">
                测验/考试-题库
            </div>
            <div class="add_question_btn">
                <button onclick="new_detail()">新增题目</button>
                <button onclick="selectfile()">Excel导入</button>
            </div>
            <table class="table table-striped table-hover content_table">
                <thead>
                <tr>
                    <th>序号</th>
                    <th>题干</th>
                    <th>题型</th>
                    <th>创建时间</th>
                    <th>来源</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody id="tab_body">
                <tr>
                    <td>01</td>
                    <td>我的个天啊是我的个怎么形成的怎么形成的</td>
                    <td>单选</td>
                    <td>2019.05.31</td>
                    <td>手动添加</td>
                    <td>
                        <button class="btn btn-primary tab_btn">编辑</button>
                        <button class="btn btn-danger tab_btn">删除</button>
                    </td>
                </tr>
                <tr>
                    <td>01</td>
                    <td>我的个天啊是我的个怎么形成的怎么形成的</td>
                    <td>单选</td>
                    <td>2019.05.31</td>
                    <td>手动添加</td>
                    <td>
                        <button class="btn btn-primary tab_btn">编辑</button>
                        <button class="btn btn-danger tab_btn">删除</button>
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="page_area">
                <ul id="page"></ul>
            </div>
        </div>
    </div>
    <!--  中间内容结束  -->
    <!-- 底部开始 -->
    <div class="footercontenter">
        <div class="footer">
            <div class="banxin footerbanxin">
                <div class="footercenter">
                    沪公网备案  *****号&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COPYRIGHT © 2008-2012 兰鸿科技
                </div>
            </div>
        </div>
    </div>
    <!-- 底部结束 -->
</div>


<!-- 注册模态框开始 -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="registertitle">
                用户注册
            </div>
            <form id="registerform" name="register"  class="registerform" action="">
                <div class="form-group">

                    <input  name="telephoneemail" placeholder="输入邮箱或手机号" class="telephone" type="text">
                </div>
                <div class="form-group">

                    <input name="username" placeholder="输入用户名" class="username" type="text">
                </div>
                <div class="form-group">

                    <input id="password" name="password" placeholder="输入密码" class="password" type="password">
                </div>
                <!-- <div class="nameexist">该用户名已存在</div> -->
                <div class="registerbutton">立即注册</div>
                <div class="elseregister">
                    <span>其它登录方式</span>
                    <a href=""><img src="../img/qq.png" alt=""></a>
                    <a href=""><img src="../img/weixin.png" alt=""></a>
                    <a href=""><img  src="../img/xinlang.png" alt=""></a>
                    <div class="nameexist">该用户名已存在</div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- 注册模态框结束 -->
<!-- 登录模态框开始 -->
<div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="registertitle">
                用户登录
            </div>
            <form class="registerform loginform" id="loginform" action="">
                <div class="form-group">
                    <input  placeholder="输入用户名" name="username" class="telephone" type="text">
                </div>
                <div class="form-group">
                    <input placeholder="输入密码" name="password" class="username" type="password">
                </div>

                <div class="codefather clearfix">
                    <input  placeholder="输入验证码" name="code" class="code" type="text">
                    <img src="../img/code.png" class="codeimg"></img>
                    <div class="check">换一张</div>
                    <div class="codeerr uperr">
                        ⓧ 用户名或密码错误
                    </div>
                    <div class="codeerr cerr">
                        ⓧ 验证码错误
                    </div>
                </div>

                <div class="loginbutton">立即登录</div>
                <div class="else">

                    <div class="linkregister">注册</div>
                    <div class="forget">忘记密码</div>
                    <span>其它登录方式</span>


                    <a href=""><img src="../img/qq.png" alt=""></a>
                    <a href=""> <img src="../img/weixin.png" alt=""></a>
                    <a href=""><img  src="../img/xinlang.png" alt=""></a>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- 登录模态框结束 -->
<!-- 编辑模态框 -->
<div class="modal fade" id="detail_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 100%; height: auto">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">详情/编辑</h4>
            </div>
            <form class="form-horizontal adminex-form" id="detail_form" action="javascript: update_question()" >
                <div class="modal-body">
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">ID</label>
                        <div class="col-sm-6">
                            <input class="form-control id" name="id" type="text" placeholder="id" disabled />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">题目</label>
                        <div class="col-sm-6">
                            <input class="form-control name" name="name" type="text" placeholder="请输入题目" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">类型</label>
                        <div class="col-sm-6">
                            <input class="form-control type" name="type" type="text" placeholder="请输入题目类型" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">答案A</label>
                        <div class="col-sm-6">
                            <input class="form-control options_a" name="options_a" type="text" placeholder="请输入选项" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">答案B</label>
                        <div class="col-sm-6">
                            <input class="form-control options_b" name="options_b" type="text" placeholder="请输入选项" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">答案C</label>
                        <div class="col-sm-6">
                            <input class="form-control options_c" name="options_c" type="text" placeholder="请输入选项" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">答案D</label>
                        <div class="col-sm-6">
                            <input class="form-control options_d" name="options_d" type="text" placeholder="请输入选项" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <input type="submit" class="btn btn-primary" value="保存" />
                </div>
            </form>
        </div>
    </div>
</div>
<!-- 新增模态框 -->
<div class="modal fade" id="new_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 100%; height: auto">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">新增题目</h4>
            </div>
            <form class="form-horizontal adminex-form" id="new_form" action="javascript: add_question()" >
                <div class="modal-body">
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">ID</label>
                        <div class="col-sm-6">
                            <input class="form-control id" name="id" type="text" placeholder="id" disabled />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">题目</label>
                        <div class="col-sm-6">
                            <input class="form-control name" name="name" type="text" placeholder="请输入题目" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">类型</label>
                        <div class="col-sm-6">
                            <input class="form-control type" name="type" type="text" placeholder="请输入题目类型" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">答案A</label>
                        <div class="col-sm-6">
                            <input class="form-control options_a" name="options_a" type="text" placeholder="请输入选项" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">答案B</label>
                        <div class="col-sm-6">
                            <input class="form-control options_b" name="options_b" type="text" placeholder="请输入选项" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">答案C</label>
                        <div class="col-sm-6">
                            <input class="form-control options_c" name="options_c" type="text" placeholder="请输入选项" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 col-sm-offset-1 control-label">答案D</label>
                        <div class="col-sm-6">
                            <input class="form-control options_d" name="options_d" type="text" placeholder="请输入选项" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <input type="submit" class="btn btn-primary" value="保存" />
                </div>
            </form>

        </div>
    </div>
</div>
<!-- 选择文件模态框 -->
<div class="modal fade" id="select_file" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 100%; height: auto">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">详情/编辑</h4>
            </div>
            <form class="form-horizontal adminex-form" id="select_form" action="javascript: select_file()" >
                <div class="modal-body">
                    <div class="form-group">
                        <label class="col-sm-4 col-sm-offset-1 control-label">Excel文件导入</label>
                        <div class="col-sm-6">
                            <input id="filebtns" class="selectfile" name="selectfile" type="file" accept=".xls,.xlsx" value="选择Excel文件" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <input type="submit" class="btn btn-primary" value="保存" />
                </div>
            </form>
        </div>
    </div>
</div>
<!-- loading Modal start-->
<div class="modal fade" id="loadingModal" data-backdrop="static">
    <div style="width: 200px;height:20px; z-index: 20000; position: absolute; text-align: center; left: 50%; top: 50%;margin-left:-100px;margin-top:-10px">
        <div class="progress progress-striped active" style="margin-bottom: 0;">
            <div class="progress-bar" style="width: 100%;"></div>
        </div>
        <h5 style="color: white; font-weight: bold">努力加载中...</h5>
    </div>
</div>


</body>
<script src="../node_modules/echarts/dist/echarts.common.js" ></script>
<script src="../node_modules/jquery/dist/jquery.min.js" ></script>
<script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../package/bootstrapvalidator-master/dist/js/bootstrapValidator.min.js" ></script>
<script src="../js/public.js" ></script>
<script src="../package/jquerypage.js" ></script>
<!-- 分页器 -->
<script src="../lib/bootstrap-paginator.js"></script>
<!-- 提示框插件 -->
<script src="../lib/toastr/toastr.min.js"></script>
<!-- 对话框样式 -->
<script src="../lib/confirm/jquery-confirm.min.js"></script>
<!-- 课程图片上传 -->
<script src="../js/course_img.js"></script>
<script type="text/javascript">
    var pageNum = 1
    $(function(){
        // 模态框居中
        modalCenter('#myModal')
        modalCenter('#myModal1')
        modalCenter('#detail_modal')

        $(".tcdPageCode").createPage({
            pageCount:20,
            current:1,
            backFn:function(p){
                console.log(p);
            }
        });
        select_question(pageNum)
    })
    // 查询
    function select_question(pageN) {
        var param = {
            cid: cid,
            page: pageN,
        }

        // loading显示
        $("#loadingModal").modal("show")
        var QuestionAjax = $.ajax({
            url: HTTP_URL + "Test/querstion",
            type: "get",
            timeout: 5000,
            dataType: "json",
            // async:false,    //不进行异步刷新
            data: param,
            success: function (data) {
                // console.log(data)
                if (0 == data[0].length) {
                    // 没有数据，显示提示
                    toastr.error("未查询到可用数据")
                    // $("#loadingModal").modal("hide")
                }
                var res = ""
                var dat = data[0]
                for (var i in dat) {
                    var item = dat[i]
                    // console.log(item)
                    var num = +i+1
                    // 时间戳转换
                    // 转换成数字形式“/1”
                    var a = item.data/1
                    var d=new Date(a*1000);
                    var time = formatDate(d)
                    res += '<tr>\n' +
                        '                    <td>'+ num +'</td>\n' +
                        '                    <td>'+ item.name +'</td>\n' +
                        '                    <td>'+ item.type +'</td>\n' +
                        '                    <td>'+ time +'</td>\n' +
                        '                    <td>'+ item.source +'</td>\n' +
                        '                    <td>\n' +
                        '                        <button class="btn btn-primary tab_btn" onclick="question_detail(' + JSON.stringify(item).replace(/"/g, "&quot;") + ')">编辑</button>\n' +
                        '                        <button class="btn btn-danger tab_btn" onclick="delete_question('+ item.id +')">删除</button>\n' +
                        '                    </td>\n' +
                        '                </tr>'
                }

                $('#tab_body').html(res)
                //分页
                $("#page").bootstrapPaginator({
                    bootstrapMajorVersion: 3,   //bootstrap版本
                    totalPages: data[1],   //总页数
                    numberOfPages: 3,    //分页器每页展示页码数
                    shouldShowPage: true,   //所有的按钮都展示
                    itemTexts: function (type, page, current) {
                        // console.log(type)
                        //设置分页控件每部分的显示文字
                        switch (type) {
                            case "first":
                                return "第一页"
                            case "prev":
                                return "上一页"
                            case "next":
                                return "下一页"
                            case "last":
                                return "最后一页"
                            case "page":
                                return page
                            case "jump":
                                return "跳转"
                        }
                    }, onPageClicked: function(event, originalEvent, type, page) {
                        //点击事件
                        //page表示分页控件当前的页码，用这个页码重新走网络请求，会拿到对应的数据
                        pageNum = page
                        // 查询
                        select_question(pageNum)
                    }
                })
                //  分页结束
            },
            error: function (e) {
                console.log(e)
                if ("timeout" == e.statusText) {
                    // 请求超时，终止请求
                    toastr.warning("请求超时")
                    QuestionAjax.abort()
                } else {
                    toastr.error("网络开小猜了，请稍后再试！")
                }
                // $("#loadingModal").modal("hide")
            },
            complete: function (xhr, status) {
                // 隐藏loading
                $("#loadingModal").modal("hide")
            }
        })
    }

    function question_detail(item) {
        // 将数据传递过来显示在模态框中
        console.log(item)
        $("#detail_modal .id").val(item.id)
        $("#detail_modal .name").val(item.name)
        $("#detail_modal .type").val(item.type)
        $("#detail_modal .options_a").val(item.a)
        $("#detail_modal .options_b").val(item.b)
        $("#detail_modal .options_c").val(item.c)
        $("#detail_modal .options_d").val(item.d)
        // 显示模态框
        $("#detail_modal").modal("show")
    }

    //  题目信息修改
    function update_question() {
        // 隐藏详情模态框
        $("#detail_modal").modal("hide")
        $("#loadingModal").modal("show")
        // 获取模态框中输入的值
        var id = $("#detail_modal .id").val()
        var name = $("#detail_modal .name").val()
        var type = $("#detail_modal .type").val()
        var options_a = $("#detail_modal .options_a").val()
        var options_b = $("#detail_modal .options_b").val()
        var options_c = $("#detail_modal .options_c").val()
        var options_d = $("#detail_modal .options_d").val()

        //  修改信息网络请求
        var UpdateQuestionAjax = $.ajax({
            url: HTTP_URL + "Test/upitem",
            type: "post",
            data: {
                cid: cid,
                id: id,
                name: name,
                type: type,
                A: options_a,
                B: options_b,
                C: options_c,
                D: options_d,
            },
            dataType: "json",
            success: function (data) {
                toastr.success("操作成功！")
                select_question(pageNum)
            },
            error: function (e) {
                toastr.error("网络开小猜了，请稍后再试！")
                console.log(e)
            },
            complete: function (xhr, status) {
                // 隐藏loading
                $("#loadingModal").modal("hide")
            }
        })
    }
    
    // 新增题目
    function new_detail() {
        // 显示新增模态框
        $("#new_modal").modal("show")
    }
    function add_question() {
        // 隐藏新增模态框
        $("#new_modal").modal("hide")
        $("#loadingModal").modal("show")
        var id = $("#new_modal .id").val()
        var name = $("#new_modal .name").val()
        var type = $("#new_modal .type").val()
        var options_a = $("#new_modal .options_a").val()
        var options_b = $("#new_modal .options_b").val()
        var options_c = $("#new_modal .options_c").val()
        var options_d = $("#new_modal .options_d").val()
        // 请求
        var AddTeacherAjax = $.ajax({
            url: HTTP_URL + "Test/add",
            type: "post",
            data: {
                cid: cid,
                name: name,
                type: type,
                A: options_a,
                B: options_b,
                C: options_c,
                D: options_d,
            },
            dataType: "json",
            success: function (data) {
                toastr.success("操作成功！")
                // 成功后把模态框中的内容清空
                $("#new_modal .modal-body input").each(function () {
                    // jquery 遍历节点 $(this)指每次遍历拿到的元素
                    $(this).val("") // 清空值
                })
                select_question(pageNum)
            },
            error: function (e) {
                toastr.error("网络开小猜了，请稍后再试！")
                console.log(e)
            },
            complete: function (xhr, status) {
                // 隐藏loading
                $("#loadingModal").modal("hide")
            }
        })
    }
    
    // 删除
    function delete_question(id) {
        // 提示用户要不要删除
        confirmBySelf("确认删除吗？", function () {
            // 用户点击确认时
            $("#loadingModal").modal("show")
            var deletequestionAjax = $.ajax({
                url: HTTP_URL + "Test/deitem",
                type: "post",
                data: {
                    id: id
                },
                dataType: "json",
                success: function (data) {
                    toastr.success("操作成功！")
                    select_question(pageNum)
                },
                error: function (e) {
                    toastr.error("网络开小差了，请稍后再试！")
                    deletequestionAjax.abort()
                    console.log(e)
                },
                complete: function (xhr, status) {
                    // 隐藏loading
                    $("#loadingModal").modal("hide")
                }
            })
        })
    }

    // 选择文件
    function selectfile(){
        $("#select_file").modal("show")
    }
    var xhr;
    function createXMLHttpRequest() {
        if (window.ActiveXObject) {
            xhr = new ActiveXObject("Microsoft.XMLHTTP");
        } else if (window.XMLHttpRequest) {
            xhr = new XMLHttpRequest();
        }
    }
    function select_file() {
        $("#select_file").modal("hide")
        var fileObj = document.getElementById("filebtns").files[0];
        var file = $("#select_file .selectfile").val()
        console.log(file)
        console.log(fileObj)
        var FileController = HTTP_URL + "Test/excel";
        var form = new FormData();
        form.append("cid", cid);
        form.append("myFile", fileObj);

        createXMLHttpRequest();
        xhr.onreadystatechange = handleStateChange;
        xhr.open("post", FileController, true);
        xhr.send(form);
        function handleStateChange() {
            if (xhr.readyState == 4) {
                if (xhr.status == 200 || xhr.status == 0) {
                    history.go(0)
                }
            }
        }
    }

    //提示框初始化，toast-top-center表示提示框的位置
    toastr.options = {
        positionClass: 'toast-top-center', // 提示框位置
        closeButton: true  // 是否显示关闭按钮
    }
    /**
     *对话框
     * @param content  提示内容
     * @param func      点击对话框确认按钮做什么，类型为function
     */
    function confirmBySelf(content, func) {
        $.confirm({
            confirmButtonClass: "btn-primary",   //设置ok按钮样式
            closeIcon: true,        //对话框右上角关闭
            confirmButton: "确认", //确认按钮标题
            cancelButton: "取消", //取消按钮标题
            title: "提示",        //标题
            content: content,        //对话内容
            confirm: function () {
                //点击确认后做什么
                func()
            },
            cancel:function () {
                //点击取消后做什么
            }
        })
    }
    // 时间戳
    function formatDate(now) {
        var year=now.getFullYear();
        var month=now.getMonth()+1;
        var date=now.getDate();
        var hour=now.getHours();
        var minute=now.getMinutes();
        var second=now.getSeconds();
        return year+"-"+month+"-"+date;
    }

</script>

</html>

