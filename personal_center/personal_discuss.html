<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>我的讨论</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../package/bootstrapvalidator-master/dist/css/bootstrapValidator.min.css">
    <!--  导航栏的基本样式保证  -->
    <link rel="stylesheet" href="../css/teacherinterspace.css">
    <!-- 提示框样式 -->
    <link href="../lib/toastr/toastr.min.css" type="text/css" rel="stylesheet">
    <!--  对话框样式  -->
    <link href="../lib/confirm/jquery-confirm.min.css" type="text/css" rel="stylesheet">
    <!--  学生页面公用样式  -->
    <link href="../css/student_css/student_public_css.css" type="text/css" rel="stylesheet">
    <link href="../css/student_css/personal_discuss.css" type="text/css" rel="stylesheet">

</head>

<body>
<div class="maincontent">
    <!-- 头部导航栏开始 -->
    <div class="header">
        <div class="banxin">
            <img src="../img/未标题-10.png" class="logo" alt="">
            <ul>
                <li><a href="">首页</a></li>
                <li><a href="">课程</a></li>
                <li><a href="">院校</a></li>
                <li><a href="">立体教材</a></li>
            </ul>
            <div class="search">
                <img class="searchicon" src="../img/未标题-1.png" ></img>
                <input type="text" placeholder="搜索课程或学校">
            </div>
            <div class="login">
                <a href="">
                    <img class="loginicon" src="../img/未标题-2.png"></img>
                </a>
                <!-- 这里的模态框用js实现 -->
                <div class="register" data-toggle="modal" data-target="#myModal">注册</div>
                <!-- 要显示新模态框，修改data-target中的ID就可以了 -->
                <div class="log" data-toggle="modal" data-target="#myModal1">登录</div>
            </div>
        </div>
    </div>
    <!-- 头部导航栏结束 -->
    <div class="mainpartportion">
        <div class="student_information">
            <img class="backgroundimg" src="../img/interspace.png" alt="">
            <div class="lucency"></div>
            <div class="tintroduce">
                <img class="fl" src="../img/teachradiuspng.png" alt="">
                <div class="fl teacherna" >
                    <div>张三</div>
                    <div>恭喜！ 您共学习了25个小时36分钟52秒</div>
                </div>
            </div>
        </div>
    </div>

    <!--  中间导航栏部分  -->
    <div class="centent_menu">
        <div class="menu_btn">
            <button class="btn_first" onclick="mycourse()">课程</button>
            <button class="active" onclick="mydiscuss()">讨论</button>
            <button onclick="myquestion()">提问</button>
            <button onclick="mynote()">笔记</button>
            <button class="btn_last" onclick="mysetup()">个人设置</button>
        </div>
    </div>
    <!--  中间内容  -->
    <div class="personal_discuss_content">
        <div class="discuss_content">
            <!--  小模块  -->
            <div class="discuss_content_card">
                <div class="discuss_content_card_content">
                    <div class="discuss_content_card_left">
                        <img src="../images/kecheng.png">
                        <div class="card_left_text">
                            <p class="discuss_course_name">建筑材料性能检测</p>
                            <div class="discuss_school_name">
                                <img class="school_icon" src="../img/矢量智能对象.png" />
                                上海材料工程学院
                            </div>
                        </div>
                    </div>
                    <div class="discuss_content_card_right">
                        <div class="one_discuss">
                            <p class="communication_subject">课堂交流主题： 水泥时怎么制作的？ （项目1 任务2）</p>
                            <div class="my_discuss">
                                <p>我的讨论1：课堂交流主题：水泥时怎么制作的课堂交主题：水泥时怎么制作的课堂交主题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                                <p>我的讨论2：时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                                <p>我的讨论3：课题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="discuss_content_card">
                <div class="discuss_content_card_content">
                    <div class="discuss_content_card_left">
                        <img src="../images/kecheng.png">
                        <div class="card_left_text">
                            <p class="discuss_course_name">建筑材料性能检测</p>
                            <div class="discuss_school_name">
                                <img class="school_icon" src="../img/矢量智能对象.png" />
                                上海材料工程学院
                            </div>
                        </div>
                    </div>
                    <div class="discuss_content_card_right">
                        <div class="one_discuss">
                            <p class="communication_subject">课堂交流主题：水泥时怎么制作的？ （项目1 任务2）</p>
                            <div class="my_discuss">
                                <p>我的讨论1：课堂交流主题：水泥时怎么制作的课堂交主题：水泥时怎么制作的课堂交主题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                                <p>我的讨论2：时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                                <p>我的讨论3：课题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                            </div>
                        </div>
                        <div class="one_discuss">
                            <p class="communication_subject">课堂交流主题：水泥时怎么制作的？ （项目1 任务2）</p>
                            <div class="my_discuss">
                                <p>我的讨论1：课堂交流主题：水泥时怎么制作的课堂交主题：水泥时怎么制作的课堂交主题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                                <p>我的讨论2：时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                                <p>我的讨论3：课题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                            </div>
                        </div>
                        <div class="one_discuss">
                            <p class="communication_subject">课堂交流主题：水泥时怎么制作的？ （项目1 任务2）</p>
                            <div class="my_discuss">
                                <p>我的讨论1：课堂交流主题：水泥时怎么制作的课堂交主题：水泥时怎么制作的课堂交主题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                                <p>我的讨论2：时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                                <p>我的讨论3：课题：水泥时怎么制作的课堂交流主题：水泥时怎么制作的 </p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- 底部开始 -->
    <div class="footercontenter">
        <div class="footer">
            <div class="banxin footerbanxin">
                <div class="footercenter">
                    沪公网备案  *****号&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COPYRIGHT © 2008-2012 兰鸿科技
                </div>
            </div>
        </div>
    </div>
    <!-- 底部结束 -->
</div>
<!-- 注册模态框开始 -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="registertitle">
                用户注册
            </div>
            <form id="registerform" name="register"  class="registerform" action="">
                <div class="form-group">

                    <input  name="telephoneemail" placeholder="输入邮箱或手机号" class="telephone" type="text">
                </div>
                <div class="form-group">

                    <input name="username" placeholder="输入用户名" class="username" type="text">
                </div>
                <div class="form-group">

                    <input id="password" name="password" placeholder="输入密码" class="password" type="password">
                </div>
                <!-- <div class="nameexist">该用户名已存在</div> -->
                <div class="registerbutton">立即注册</div>
                <div class="elseregister">
                    <span>其它登录方式</span>
                    <a href=""><img src="../img/qq.png" alt=""></a>
                    <a href=""><img src="../img/weixin.png" alt=""></a>
                    <a href=""><img  src="../img/xinlang.png" alt=""></a>
                    <div class="nameexist">该用户名已存在</div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- 注册模态框结束 -->
<!-- 登录模态框开始 -->
<div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="registertitle">
                用户登录
            </div>
            <form class="registerform loginform" id="loginform" action="">
                <div class="form-group">
                    <input  placeholder="输入用户名" name="username" class="telephone" type="text">
                </div>
                <div class="form-group">
                    <input placeholder="输入密码" name="password" class="username" type="password">
                </div>

                <div class="codefather clearfix">
                    <input  placeholder="输入验证码" name="code" class="code" type="text">
                    <img src="../img/code.png" class="codeimg"></img>
                    <div class="check">换一张</div>
                    <div class="codeerr uperr">
                        ⓧ 用户名或密码错误
                    </div>
                    <div class="codeerr cerr">
                        ⓧ 验证码错误
                    </div>
                </div>

                <div class="loginbutton">立即登录</div>
                <div class="else">

                    <div class="linkregister">注册</div>
                    <div class="forget">忘记密码</div>
                    <span>其它登录方式</span>


                    <a href=""><img src="../img/qq.png" alt=""></a>
                    <a href=""> <img src="../img/weixin.png" alt=""></a>
                    <a href=""><img  src="../img/xinlang.png" alt=""></a>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- 登录模态框结束 -->
<!-- loading Modal start-->
<div class="modal fade" id="loadingModal" data-backdrop="static">
    <div style="width: 200px;height:20px; z-index: 20000; position: absolute; text-align: center; left: 50%; top: 50%;margin-left:-100px;margin-top:-10px">
        <div class="progress progress-striped active" style="margin-bottom: 0;">
            <div class="progress-bar" style="width: 100%;"></div>
        </div>
        <h5 style="color: white; font-weight: bold">努力加载中...</h5>
    </div>
</div>
</body>

<script src="../node_modules/echarts/dist/echarts.common.js" ></script>
<script src="../node_modules/jquery/dist/jquery.min.js" ></script>
<script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../package/bootstrapvalidator-master/dist/js/bootstrapValidator.min.js" ></script>
<script src="../js/public.js" ></script>
<script src="../package/jquerypage.js" ></script>
<!-- 提示框插件 -->
<script src="../lib/toastr/toastr.min.js"></script>
<!-- 对话框样式 -->
<script src="../lib/confirm/jquery-confirm.min.js"></script>
<!--  个人信息-头像-名字 -->
<script src="../js/student_public.js"></script>
<script type="text/javascript">
    $(function(){
        // 模态框居中
        modalCenter('#myModal')
        modalCenter('#myModal1')
        $(".tcdPageCode").createPage({
            pageCount:20,
            current:1,
            backFn:function(p){
                console.log(p);
            }
        });
        select_discuss()
    })

    // 教师团队查询
    function select_discuss() {
        // loading显示
        $("#loadingModal").modal("show")
        var CouIntrAjax = $.ajax({
            url: HTTP_URLH + "Personal/set_notion",
            type: "post",
            timeout: 5000,
            dataType: "json",
            // async:false,    //不进行异步刷新
            data: {
                id: 1
            },
            success: function (data) {
                // console.log(data)
                if (0 == data.length) {
                    // 没有数据，显示提示
                    toastr.error("未查询到可用数据")
                    $("#loadingModal").modal("hide")
                }
                var res = ""
                for (var i in data) {
                    var item = data[i]
                    var result = item.topic
                    var res1 = ""
                    for (var j in result) {
                        var result1 = result[j]
                        var result2 = result1.mine
                        // console.log(resul2)
                        var res2 = ""
                        for (var k in result2) {
                            var result3 = result2[k]
                            var index = +k + 1
                            res2 += '<p>我的讨论'+ index +'：'+ result3.name +' </p>'
                        }
                        $('.my_discuss').html(res2)
                        res1 += '<div class="one_discuss">\n' +
                            '                            <p class="communication_subject">课堂交流主题: '+ result1.discussname +'</p>\n' +
                            '                            <div class="my_discuss">\n' +
                            '                                '+ res2 +'\n' +
                            '                            </div>\n' +
                            '                        </div>'
                    }
                    $('.discuss_content_card_right').html(res1)
                    res += '<div class="discuss_content_card">\n' +
                        '                <div class="discuss_content_card_content">\n' +
                        '                    <div class="discuss_content_card_left">\n' +
                        '                        <img src="'+ imgsrc2 + item.logo+'">\n' +
                        '                        <div class="card_left_text">\n' +
                        '                            <p class="discuss_course_name">'+ item.name +'</p>\n' +
                        '                            <div class="discuss_school_name">\n' +
                        '                                <img class="school_icon" src="../img/矢量智能对象.png" />\n' +
                        '                                '+ item.school +'\n' +
                        '                            </div>\n' +
                        '                        </div>\n' +
                        '                    </div>\n' +
                        '                    <div class="discuss_content_card_right">\n' +
                        '                         '+ res1 +'\n' +
                        '                    </div>\n' +
                        '                </div>\n' +
                        '            </div>'
                }
                $('.discuss_content').html(res)
            },
            error: function (e) {
                console.log(e)
                toastr.error("网络开小猜了，请稍后再试！")
            },
            complete: function (xhr, status) {
                // 隐藏loading
                $("#loadingModal").modal("hide")
            }
        })
    }

    // 跳页
    function mycourse() {
        $(location).attr('href','./my_course.html');
    }
    function mydiscuss() {
        $(location).attr('href','./personal_discuss.html');
    }
    function myquestion() {
        $(location).attr('href','./ask_question.html');
    }
    function mynote() {
        $(location).attr('href','./my_note.html');
    }
    function mysetup() {
        $(location).attr('href','./my_setup.html');
    }
    //提示框初始化，toast-top-center表示提示框的位置
    toastr.options = {
        positionClass: 'toast-top-center', // 提示框位置
        closeButton: true  // 是否显示关闭按钮
    }
    /**
     *对话框
     * @param content  提示内容
     * @param func      点击对话框确认按钮做什么，类型为function
     */
    function confirmBySelf(content, func) {
        $.confirm({
            confirmButtonClass: "btn-primary",   //设置ok按钮样式
            closeIcon: true,        //对话框右上角关闭
            confirmButton: "确认", //确认按钮标题
            cancelButton: "取消", //取消按钮标题
            title: "提示",        //标题
            content: content,        //对话内容
            confirm: function () {
                //点击确认后做什么
                func()
            },
            cancel:function () {
                //点击取消后做什么
            }
        })
    }
</script>
</html>

